function updateTabs(){for(var e in tabs)tabs[e].getAttribute("href")==page.url?tabs[e].setAttribute("active",""):tabs[e].removeAttribute("active","")}function navigation(e){e!==page.url&&(page=pages.filter(function(t){return t.url==e})[0],history.pushState(page,page.title,page.url),render(page.url))}function render(e){for(var t=document.getElementById(page.template),a=document.importNode(t.content,!0),n=document.getElementById("container");0!==n.childElementCount;)n.children[0].remove();n.appendChild(a),document.title=page.title,updateTabs(),nav=Array.prototype.slice.call(document.querySelectorAll("a[navigation]"));for(var i in nav)nav[i].addEventListener("click",function(e){e.preventDefault(),navigation(this.getAttribute("href"))})}var pages=[{name:"About",template:"about--template",title:"Iiro Jäppinen",url:"/"},{name:"Résumé",template:"resume--template",title:"Résumé of Iiro Jäppinen",url:"/resume"}],tabContainer=document.getElementById("navigation").getElementsByTagName("ul")[0],tabs=[];tabContainer.innerText="";for(var i in pages){var li=document.createElement("li"),a=document.createElement("a");t=document.createTextNode(pages[i].name),li.appendChild(a).appendChild(t),a.setAttribute("href",pages[i].url),a.setAttribute("navigation",""),tabContainer.appendChild(li),tabs.push(a)}var page=pages.filter(function(e){return e.url==window.location.pathname})[0];history.replaceState(page,page.title,page.url),window.scrollY>0&&document.getElementById("navigation").setAttribute("opaque",""),window.addEventListener("scroll",function(){var e=document.getElementById("navigation");this.scrollY>0?e.setAttribute("opaque",""):e.removeAttribute("opaque")},!1),document.addEventListener("DOMContentLoaded",function(){render(page.url)}),window.onpopstate=function(e){page!==history.state&&(page=history.state,render(page.url))};