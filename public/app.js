function createNav(e){var t=document.createElement("li"),a=document.createElement("a");navAT=document.createTextNode(pages[e].name),t.appendChild(a).appendChild(navAT),a.setAttribute("href",pages[e].url),a.setAttribute("navigation",""),navUl.appendChild(t),navArray.push(a)}function activeNavA(){for(var e in navArray)navArray[e].getAttribute("href")==page.url?navArray[e].setAttribute("active",""):navArray[e].removeAttribute("active","")}function navigation(e){e!==page.url&&(page=pages.filter(function(t){return t.url==e})[0],history.pushState(page,page.title,page.url),render(page.url))}function render(e){for(var t=document.getElementById(page.template),a=document.importNode(t.content,!0);0!==container.childElementCount;)container.children[0].remove();container.appendChild(a),document.title=page.title,activeNavA();var n=Array.prototype.slice.call(document.querySelectorAll("a[navigation]"));for(var r in n)n[r].addEventListener("click",function(e){e.preventDefault(),navigation(this.getAttribute("href"))})}var pages=[{name:"About",template:"about--template",title:"Iiro Jäppinen",url:"/"},{name:"Résumé",template:"resume--template",title:"Résumé of Iiro Jäppinen",url:"/resume"}],page=pages.filter(function(e){return e.url==window.location.pathname})[0];container=document.getElementById("container"),nav=document.getElementById("navigation"),navUl=nav.getElementsByTagName("ul")[0],navArray=[],navUl.innerText="",history.replaceState(page,page.title,page.url);for(var i in pages)createNav(i);document.addEventListener("DOMContentLoaded",function(){window.scrollY>0&&nav.setAttribute("opaque",""),render(page.url)}),window.addEventListener("scroll",function(){this.scrollY>0?nav.setAttribute("opaque",""):nav.removeAttribute("opaque")},!1),window.onpopstate=function(e){page!==history.state&&(page=history.state,render(page.url))};