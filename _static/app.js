function navigation(e){e!==page.url&&(page=pages.filter(function(t){return t.url==e})[0],history.pushState(page,page.title,page.url),render(page.url))}function render(e){for(var t=document.getElementById("container"),n=document.getElementById(page.template),a=document.importNode(n.content,!0);0!==t.childElementCount;)t.children[0].remove();t.appendChild(a),navArray.map(function(e){e.getAttribute("href")==page.url?e.setAttribute("active",""):e.removeAttribute("active")})}var pages=[{name:"About",template:"about--template",title:"Iiro Jäppinen",url:"/"},{name:"Résumé",template:"resume--template",title:"Résumé of Iiro Jäppinen",url:"/resume"}],page=pages.filter(function(e){return e.url==window.location.pathname})[0],nav=document.getElementById("navigation"),navUl=nav.getElementsByTagName("ul")[0],navArray=[];history.replaceState(page,page.title,page.url),navUl.innerHTML="",pages.map(function(e){var t=document.createElement("li"),n=document.createElement("a"),a=document.createTextNode(e.name);t.appendChild(n).appendChild(a),n.setAttribute("href",e.url),n.setAttribute("navigation",""),n.addEventListener("click",function(e){e.preventDefault(),navigation(this.getAttribute("href"))}),navUl.appendChild(t),navArray.push(n)}),window.scrollY>0&&nav.setAttribute("opaque",""),render(page.url),window.addEventListener("scroll",function(){this.scrollY>0?nav.setAttribute("opaque",""):nav.removeAttribute("opaque")},!1),window.onpopstate=function(e){page!==history.state&&(page=history.state,render(page.url))};