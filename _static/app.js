function navigation(e){e!==page.url&&(page=pages.filter(function(t){return t.url==e})[0],history.pushState(page,page.title,page.url),render())}function render(){for(var e=document.getElementById("container"),t=document.getElementById(page.template),n=document.importNode(t.content,!0);0!==e.childElementCount;)e.children[0].remove();e.appendChild(n),navArray.map(function(e){e.getAttribute("href")==page.url?e.setAttribute("active",""):e.removeAttribute("active")}),"/"==page.url&&aboutPageResumeLink()}function aboutPageResumeLink(){document.getElementsByClassName("link-resume")[0].addEventListener("click",function(e){e.preventDefault(),navigation(this.getAttribute("href"))})}var pages=[{name:"About",template:"about--template",title:"Iiro Jäppinen",url:"/"},{name:"Résumé",template:"resume--template",title:"Résumé of Iiro Jäppinen",url:"/resume"}],page=pages.filter(function(e){return e.url==window.location.pathname})[0],nav=document.getElementById("navigation"),navUl=nav.getElementsByTagName("ul")[0],navArray=[];history.replaceState(page,page.title,page.url),navUl.innerHTML="",pages.map(function(e){var t=document.createElement("li"),n=document.createElement("a"),a=document.createTextNode(e.name);t.appendChild(n).appendChild(a),n.setAttribute("href",e.url),n.setAttribute("navigation",""),n.addEventListener("click",function(e){e.preventDefault(),navigation(this.getAttribute("href"))}),navUl.appendChild(t),navArray.push(n)}),window.scrollY>0&&nav.setAttribute("opaque",""),render(),window.addEventListener("scroll",function(){this.scrollY>0?nav.setAttribute("opaque",""):nav.removeAttribute("opaque")},!1),window.onpopstate=function(e){page!==history.state&&(page=history.state,render())};